<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Privacy/Date Shifting" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Date Shifting | Chorus-SOP</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://chorus-ai.io/Chorus_SOP/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://chorus-ai.io/Chorus_SOP/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://chorus-ai.io/Chorus_SOP/docs/Privacy/Date Shifting"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Date Shifting | Chorus-SOP"><meta data-rh="true" name="description" content="An SOP for date shifting across source systems to preserve temporal integrity"><meta data-rh="true" property="og:description" content="An SOP for date shifting across source systems to preserve temporal integrity"><link data-rh="true" rel="icon" href="/Chorus_SOP/img/chorus-ai.png"><link data-rh="true" rel="canonical" href="https://chorus-ai.io/Chorus_SOP/docs/Privacy/Date Shifting"><link data-rh="true" rel="alternate" href="https://chorus-ai.io/Chorus_SOP/docs/Privacy/Date Shifting" hreflang="en"><link data-rh="true" rel="alternate" href="https://chorus-ai.io/Chorus_SOP/docs/Privacy/Date Shifting" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/Chorus_SOP/blog/rss.xml" title="Chorus-SOP RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Chorus_SOP/blog/atom.xml" title="Chorus-SOP Atom Feed"><link rel="stylesheet" href="/Chorus_SOP/assets/css/styles.b040b797.css">
<script src="/Chorus_SOP/assets/js/runtime~main.4a7bbad9.js" defer="defer"></script>
<script src="/Chorus_SOP/assets/js/main.b5194d20.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Chorus_SOP/"><div class="navbar__logo"><img src="/Chorus_SOP/img/chorus-ai.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Chorus_SOP/img/chorus-ai.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Chorus_SOP/docs/intro">SOPs</a><a class="navbar__item navbar__link" href="/Chorus_SOP/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"></div><a href="https://github.com/chorus-ai/Chorus_SOP" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Chorus_SOP/docs/intro">SOP Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/central-processing">Central Processing</a><button aria-label="Expand sidebar category &#x27;Central Processing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/common-data-elements">Common Data Elements</a><button aria-label="Expand sidebar category &#x27;Common Data Elements&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/data-quality">Data Quality</a><button aria-label="Expand sidebar category &#x27;Data Quality&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/data-requests">Data Requests</a><button aria-label="Expand sidebar category &#x27;Data Requests&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/data-uploading">Data Uploading</a><button aria-label="Expand sidebar category &#x27;Data Uploading&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/flowsheet-data">Flowsheet Data</a><button aria-label="Expand sidebar category &#x27;Flowsheet Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/freetext-data">Freetext Data</a><button aria-label="Expand sidebar category &#x27;Freetext Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/gis-exposure-data">GIS Exposure Data</a><button aria-label="Expand sidebar category &#x27;GIS Exposure Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/imaging-data">Imaging Data</a><button aria-label="Expand sidebar category &#x27;Imaging Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/multimodal-linkage">Multimodal Linkage</a><button aria-label="Expand sidebar category &#x27;Multimodal Linkage&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/omop-mapping">OMOP Mapping</a><button aria-label="Expand sidebar category &#x27;OMOP Mapping&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/Chorus_SOP/docs/category/privacy">Privacy</a><button aria-label="Collapse sidebar category &#x27;Privacy&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Chorus_SOP/docs/Privacy/Date Shifting">Date Shifting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Chorus_SOP/docs/Privacy/">Privacy Tool Operations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Chorus_SOP/docs/Privacy/Safe Harboring">Safe Harboring</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/structured-ehr-data">Structured EHR Data</a><button aria-label="Expand sidebar category &#x27;Structured EHR Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/waveform-data">Waveform Data</a><button aria-label="Expand sidebar category &#x27;Waveform Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/templates">Templates</a><button aria-label="Expand sidebar category &#x27;Templates&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Chorus_SOP/docs/category/deprecated-documentation">Deprecated Documentation</a><button aria-label="Expand sidebar category &#x27;Deprecated Documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Chorus_SOP/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/Chorus_SOP/docs/category/privacy"><span itemprop="name">Privacy</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Date Shifting</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Awaiting Approval</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-purpose">1. Purpose<a href="#1-purpose" class="hash-link" aria-label="Direct link to 1. Purpose" title="Direct link to 1. Purpose">​</a></h2>
<p>This SOP provides guidelines for date shifting across datasets from multiple source systems, ensuring that temporal relationships are preserved within individual patients and across different source systems to maintain data integrity.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-scope">2. Scope<a href="#2-scope" class="hash-link" aria-label="Direct link to 2. Scope" title="Direct link to 2. Scope">​</a></h2>
<p>This SOP applies to data engineers, data scientists, and analysts who work with datasets combining patient information from multiple sources, where the integrity of temporal relationships must be maintained after date shifting.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-definitions">3. Definitions<a href="#3-definitions" class="hash-link" aria-label="Direct link to 3. Definitions" title="Direct link to 3. Definitions">​</a></h2>
<ul>
<li><strong>Date Shifting</strong>: The process of adjusting dates in datasets to anonymize patient information while preserving intervals and time relationships.</li>
<li><strong>Temporal Integrity</strong>: Ensuring that the relative time sequence between events within the same patient and across datasets remains consistent after date shifting.</li>
<li><strong>Source System</strong>: A system that provides patient data (Electronic Health Records (EHR), Waveforms, PACS for Images, etc.). There may be several datasets within a source system. Less likely, a source system may overlap source systems.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-roles-and-responsibilities">4. Roles and Responsibilities<a href="#4-roles-and-responsibilities" class="hash-link" aria-label="Direct link to 4. Roles and Responsibilities" title="Direct link to 4. Roles and Responsibilities">​</a></h2>
<p>Although the distribution of work will vary across sites, the following expertise is required to properly execute this SOP:</p>
<ul>
<li><strong>Data Engineer</strong>: Executes the date-shifting process under this SOP.</li>
<li><strong>Data Analyst</strong>: Validates the date-shifted data to ensure temporal relationships are intact.</li>
<li><strong>Quality Control (QC) Analyst</strong>: Reviews the final shifted data to confirm SOP compliance.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-materials-needed">5. Materials Needed<a href="#5-materials-needed" class="hash-link" aria-label="Direct link to 5. Materials Needed" title="Direct link to 5. Materials Needed">​</a></h2>
<ul>
<li>Access to datasets from multiple source systems.</li>
<li>Documentation of each source system&#x27;s date format, time zone, and whether events are timed using absolute datetimes or relative time units to a base time.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-procedures">6. Procedures<a href="#6-procedures" class="hash-link" aria-label="Direct link to 6. Procedures" title="Direct link to 6. Procedures">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-initial-data-review-and-preparation">6.1. <strong>Initial Data Review and Preparation</strong><a href="#61-initial-data-review-and-preparation" class="hash-link" aria-label="Direct link to 61-initial-data-review-and-preparation" title="Direct link to 61-initial-data-review-and-preparation">​</a></h3>
<ol>
<li>
<p><strong>Collect and Document Source Data</strong>: Gather all datasets from each source system and document date formats, time zones, and any pre-existing date transformations.</p>
</li>
<li>
<p><strong>Identify Time Relationships in Individual Sources</strong>: Identify anchor dates for the same patient across files within each source. It may be that, for a given source (such as waveforms), there will be time-disjointed datasets. For example, the dataset is divided in 24-hour blocks. Typically, this anchoring datetime will be the time of the earliest entry in the dataset.</p>
</li>
<li>
<p><strong>Determine Shifting Needs</strong>:</p>
<ul>
<li>Decide on the need for date shifting for anonymization or pseudonymization.</li>
<li>Define the maximum allowable shift range (e.g., +/- X days).</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-date-shifting-execution">6.2. <strong>Date Shifting Execution</strong><a href="#62-date-shifting-execution" class="hash-link" aria-label="Direct link to 62-date-shifting-execution" title="Direct link to 62-date-shifting-execution">​</a></h3>
<ol>
<li>
<p><strong>Ensure Consistency Across Source Systems</strong>:</p>
<ul>
<li>For datasets with events that overlap across source systems, apply the same date shift using the same method for each patient across all datasets.</li>
<li>Example: Shift all EHR and lab results for Patient A by the same date offset, so that the relative relationships are maintained.</li>
</ul>
</li>
<li>
<p><strong>Representing Dates</strong>:</p>
<ul>
<li>We will adopt the ISO 8061, 2022 version, datetime representation: YYYY-MM-DDThh:mm<!-- -->:ss<!-- -->+00:00, where the datetime is local time and time zone is represented as a delta from UTC. So, noon on 1/1/2024 in Eastern Standard Time is represented as 2024-01-01T12:00:00-05:00. If a source system outputs UTC time only, please transform to local time first rather than adding the suffix Z to indicate UTC time. It is allowable to use 24:00:00 to represent the last time in a given day, according to the latest iteration of ISO 8061. Decimals are allowed for seconds to any precision. Use a period as separator.</li>
<li>If your datetime does not include time zone information, impute UTC offset based on the actual local date.<!-- -->
<ul>
<li>For some systems, the absence of time zone information creates a potential datetime ambiguity for the hour when time is dialed back. Sites have the discretion to apply a systematic local rule to attribute a datetime for this hour if there are no disambiguation methods applicable.</li>
<li>There is no ambiguity when the time is moved forward an hour.</li>
</ul>
</li>
<li>When only a date is available, please enter the local date as YYYY-MM-DD without further specifications.</li>
<li>The final deliverable format for all datetimes is that shifted datetimes are represented in UTC0 time, as if all sites were geographically co-located. So, all datetimes will then be +00 for standards time and +01 for DST. The actual time zone offset will be communicated as metadata.<!-- -->
<ul>
<li>For example, a site on UTC+05 (Pittsburgh, Boston) on standard time and thus UTC+04 on DST will create shifted datetimes that preserve local time, but include UTC offset indicators or either +00 or +01.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Establish Date Shift Parameters</strong>:</p>
<ul>
<li>Dates will be shifted by a random offset of [1,-730] days in the past, with time of day intact.</li>
<li>Each subject is attributed a subject-specific uniform shift across all data domains.</li>
<li>Some sites are using an immutable time shifting strategy. In such situations, the following shift code will need to be included with site metadata: time is unshifted (code 0), the shift preserves day-of-the-week (code 1), preserves seasonality (code 2), preserves both day-of-the-week and seasonality (code 3) or neither (code 4). The only minimal requirement is that local time is preserved.</li>
<li>Each site preserves a list of subject-specific shifts in a lookup table subject to site-specific privacy rules.</li>
</ul>
</li>
<li>
<p><strong>Apply Within-Patient Date Offsets</strong>:</p>
<ul>
<li>After representing dates as YYYY-MM-DDThh:mm<!-- -->:ss<!-- -->+00:00, apply a uniform date shift to all YYYY-MM-DD portions of all records within a single patient&#x27;s data, ensuring that intervals between dates are consistent. This assures that local times are consistent for all offsets and enforced date shifting within UTC offsets.<!-- -->
<ul>
<li>Example: If Patient A&#x27;s events span a period of 10 days, all dates for Patient A should be shifted by the same amount to maintain this interval.</li>
<li>Example: UTC offset of -04:00 will be date shifted to a date [1,730] days in the past still at offset of -04:00.</li>
</ul>
</li>
<li>Depending on your process, the shifted date could be unrealistic, for example Feb 29, 2021. As 2021 is not a leap year, repeat the shifting procedure.</li>
<li>If the time zone of the shifted date becomes inconsistent with the local time as the shift is applied, modify the time zone such that local time is consistent with the time zone of the geographical location of a site. This is important as some sources may only have a UTC time and not an explicit local time.<!-- -->
<ul>
<li>Example: In the first step, time is shifted from 2023-12-01T05:00:00-05:00 to 2023-04-01T05:00:00-05:00. The shifted date is inconsistent with the original local time at this site because, on April 1 at 5 am, this site UTC offset is -04:00 and not -05:00. In this case, also modify the UTC offset to -04:00 to be compatible with local time. This situation will arise each time the shift involves crossing a time change date.</li>
</ul>
</li>
<li><strong>NOTE</strong>: Issues around leap year and daylight savings change-over outlined in the previous 2 bullets are unlikely to surface when using standard datetime datatype and operations in Python, SQL, examples of which are shown in Section 11. Operations with these built-in datatypes should ensure validity and consistency of the resulting date-time stamps, including a) preserving the geographic time zone (e.g. Eastern remains Eastern), b) preserving standard and daylight savings times change overs dates, and c) preserving leap year dates. As always, verify (see section 6.3) that the relative timing between events from different sources is preserved.</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="63-post-shift-verification">6.3. <strong>Post-Shift Verification</strong><a href="#63-post-shift-verification" class="hash-link" aria-label="Direct link to 63-post-shift-verification" title="Direct link to 63-post-shift-verification">​</a></h3>
<ol>
<li>
<p><strong>Check Temporal Integrity</strong>:</p>
<ul>
<li><strong>Intra-Source Verification</strong>: Confirm that the shifted dates preserve each subject&#x27;s record&#x27;s original sequence and intervals.<!-- -->
<ul>
<li>Confirm that all relevant date and datetime fields have been shifted.</li>
<li>Verify that the duration of records has been preserved (admission to discharge datetime, first to last waveform data, first to last image)</li>
</ul>
</li>
<li><strong>Cross-Source Verification</strong>: Ensure that the temporal alignment across source systems are consistent. (e.g., if waveform data starts 17 hours after admission in the original data, the same should be true in the date-shifted data) This is absolutely essential if time representations are different across sources. You may realize that date shifting across a daylight savings boundary results in a +1 hour difference across sources if you are not careful with procedure 6.2.3 above.</li>
<li>This is best done by manual verification of the post-shift data for a small number of patients (1 or 2) with all data sources, including across a daylight savings boundary.</li>
</ul>
</li>
<li>
<p><strong>Audit and Documentation</strong>:</p>
<ul>
<li>Document the shift parameters used, including any randomization seeds or fixed offset values for reproducibility.</li>
<li>Log validation checks performed and retain records for review.</li>
</ul>
</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-quality-control-qc-procedures">7. Quality Control (QC) Procedures<a href="#7-quality-control-qc-procedures" class="hash-link" aria-label="Direct link to 7. Quality Control (QC) Procedures" title="Direct link to 7. Quality Control (QC) Procedures">​</a></h2>
<ul>
<li><strong>QC Analyst Review</strong>: Independently verify that temporal relationships are maintained within and across source systems after shifting. This is accomplished as follows:</li>
<li><strong>Sample Validation</strong>: Randomly sample patients to verify interval consistency before and after shifting.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-documentation-and-storage">8. Documentation and Storage<a href="#8-documentation-and-storage" class="hash-link" aria-label="Direct link to 8. Documentation and Storage" title="Direct link to 8. Documentation and Storage">​</a></h2>
<ul>
<li>Store the date-shifted datasets securely, ensuring appropriate access control.</li>
<li>Retain documentation of the date shift process, validation results, and QC review for audit purposes.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="9-deviations-from-the-sop">9. Deviations from the SOP<a href="#9-deviations-from-the-sop" class="hash-link" aria-label="Direct link to 9. Deviations from the SOP" title="Direct link to 9. Deviations from the SOP">​</a></h2>
<ul>
<li>Any deviations from this SOP must be documented, justified, and approved by CHoRUS Data Acquisition and Standards governance.</li>
<li>Any deviation from the SOP must also be included in the readme metadata document included at the time of first data upload, and then whenever there is a site change in the data shifting process.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="10-revision-history">10. Revision History<a href="#10-revision-history" class="hash-link" aria-label="Direct link to 10. Revision History" title="Direct link to 10. Revision History">​</a></h2>
<table><thead><tr><th>Version</th><th>Date</th><th>Description</th></tr></thead><tbody><tr><td>1.0</td><td>2024-12-01</td><td>Initial version</td></tr><tr><td>1.1</td><td>2025-05-01</td><td>Clarification on shifts across DST boundaries and leap year accommodations; Requirement that specific site practices preserving season, day of the week, etc. be specifically coded in metadata at time of submission</td></tr><tr><td>1.2</td><td>2025-06-01</td><td>Example codes implementing data shifting in python, MySQL and SQL server removed</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/chorus-ai/Chorus_SOP/edit/review/sop-website/docs/Privacy/Date-Shifting.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-10-28T19:21:11.000Z">Oct 28, 2025</time></b> by <b>Jared Houghtaling</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Chorus_SOP/docs/category/privacy"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Privacy</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Chorus_SOP/docs/Privacy/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Privacy Tool Operations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-purpose" class="table-of-contents__link toc-highlight">1. Purpose</a></li><li><a href="#2-scope" class="table-of-contents__link toc-highlight">2. Scope</a></li><li><a href="#3-definitions" class="table-of-contents__link toc-highlight">3. Definitions</a></li><li><a href="#4-roles-and-responsibilities" class="table-of-contents__link toc-highlight">4. Roles and Responsibilities</a></li><li><a href="#5-materials-needed" class="table-of-contents__link toc-highlight">5. Materials Needed</a></li><li><a href="#6-procedures" class="table-of-contents__link toc-highlight">6. Procedures</a><ul><li><a href="#61-initial-data-review-and-preparation" class="table-of-contents__link toc-highlight">6.1. <strong>Initial Data Review and Preparation</strong></a></li><li><a href="#62-date-shifting-execution" class="table-of-contents__link toc-highlight">6.2. <strong>Date Shifting Execution</strong></a></li><li><a href="#63-post-shift-verification" class="table-of-contents__link toc-highlight">6.3. <strong>Post-Shift Verification</strong></a></li></ul></li><li><a href="#7-quality-control-qc-procedures" class="table-of-contents__link toc-highlight">7. Quality Control (QC) Procedures</a></li><li><a href="#8-documentation-and-storage" class="table-of-contents__link toc-highlight">8. Documentation and Storage</a></li><li><a href="#9-deviations-from-the-sop" class="table-of-contents__link toc-highlight">9. Deviations from the SOP</a></li><li><a href="#10-revision-history" class="table-of-contents__link toc-highlight">10. Revision History</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Chorus_SOP/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chorus4ai.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homesite<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/CHoRUS4AI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Chorus_SOP/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Chorus-AI, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>